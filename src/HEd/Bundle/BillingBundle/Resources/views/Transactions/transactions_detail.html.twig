{% extends 'KulaCoreFrameworkBundle::sis.html.twig' %}

{% block content %}
<p>
<a class="normal-link"  data-record-id="{{ kula_core_record.getSelectedRecordID() }}" data-record-type="{{ kula_core_record.getRecordType() }}" href="{{ path('sis_student_billing_transactions') }}">Back to Transactions</a>
</p>

<div class="group-box">
<div class="group-box-header">Term</div>
<div class="group-box-contents group">
{{ kula_field({ edit: true, field: 'HEd.Billing.Transaction.OrganizationTermID', db_row_id: transaction.CONSTITUENT_TRANSACTION_ID, field_name_override: 'Org / Term', value: transaction.ORGANIZATION_TERM_ID, label: true }) }}
</div>
</div>
<div class="group-box">
<div class="group-box-header">Transaction</div>
<div class="group-box-contents group">
{{ kula_field({ field: 'HEd.Billing.Code.Type', field_name_override: 'Type', db_row_id: transaction.CONSTITUENT_TRANSACTION_ID, value: transaction.CODE_TYPE, label: true }) }}
{% if transaction.POSTED != 'Y' and transaction.VOIDED != 'Y' %}
{{ kula_field({ edit: true, field: 'HEd.Billing.Transaction.CodeID', db_row_id: transaction.CONSTITUENT_TRANSACTION_ID, field_name_override: 'Code', value: transaction.CODE_ID, label: true }) }}
{% else %}
{{ kula_field({ field: 'HEd.Billing.Transaction.CodeID', db_row_id: transaction.CONSTITUENT_TRANSACTION_ID, field_name_override: 'Code', value: transaction.CODE_ID, label: true }) }}
{% endif %}
</div>
<div class="group-box-contents group">
{% if transaction.POSTED != 'Y' and transaction.VOIDED != 'Y' %}
{{ kula_field({ edit: true, field: 'HEd.Billing.Transaction.TransactionDate', db_row_id: transaction.CONSTITUENT_TRANSACTION_ID, value: transaction.TRANSACTION_DATE, label: true }) }}
{% else %}
{{ kula_field({ field: 'HEd.Billing.Transaction.TransactionDate', db_row_id: transaction.CONSTITUENT_TRANSACTION_ID, value: transaction.TRANSACTION_DATE, label: true }) }}
{% endif %}
{{ kula_field({ edit: true, field: 'HEd.Billing.Transaction.Description', db_row_id: transaction.CONSTITUENT_TRANSACTION_ID, value: transaction.TRANSACTION_DESCRIPTION, label: true }) }}
</div>
<div class="group-box-contents group">
{{ kula_field({ field: 'HEd.Billing.Transaction.Posted', value: transaction.POSTED, label: true }) }}
{{ kula_field({ edit: true, field: 'HEd.Billing.Transaction.ShowOnStatement', db_row_id: transaction.CONSTITUENT_TRANSACTION_ID, value: transaction.SHOW_ON_STATEMENT, label: true }) }}
{% if transaction.POSTED != 'Y' and transaction.VOIDED != 'Y' %}
{{ kula_field({ edit: true, field: 'HEd.Billing.Transaction.Amount', db_row_id: transaction.CONSTITUENT_TRANSACTION_ID, value: transaction.AMOUNT, label: true }) }}
{% else %}
{{ kula_field({ field: 'HEd.Billing.Transaction.Amount', db_row_id: transaction.CONSTITUENT_TRANSACTION_ID, value: transaction.AMOUNT, label: true }) }}
{% endif %}
{{ kula_field({ field: 'HEd.Billing.Transaction.AppliedBalance', value: transaction.APPLIED_BALANCE, label: true }) }}
</div>
</div>
<div class="group-box">
<div class="group-box-header">Voided</div>
<div class="group-box-contents group">
{{ kula_field({ field: 'HEd.Billing.Transaction.Voided', value: transaction.VOIDED, label: true }) }}
{{ kula_field({ field: 'HEd.Billing.Transaction.OriginalAmount', value: transaction.ORIGINAL_AMOUNT, label: true }) }}
{{ kula_field({ edit: true, field: 'HEd.Billing.Transaction.VoidedReason', db_row_id: transaction.CONSTITUENT_TRANSACTION_ID, value: transaction.VOIDED_REASON, label: true }) }}
{{ kula_field({ field: 'HEd.Billing.Transaction.VoidedUsername', value: transaction.USERNAME, label: true }) }}
{{ kula_field({ field: 'HEd.Billing.Transaction.VoidedTimestamp', value: transaction.VOIDED_TIMESTAMP, label: true }) }}
</div>
</div>
{% endblock %}